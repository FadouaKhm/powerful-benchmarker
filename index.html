



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.dev0, mkdocs-material-4.6.0">
    
    
      
        <title>Powerful Benchmarker</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#powerful-benchmarker" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Powerful Benchmarker" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Powerful Benchmarker
            </span>
            <span class="md-header-nav__topic">
              
                Home
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/KevinMusgrave/powerful-benchmarker/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    KevinMusgrave/powerful-benchmarker
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="Powerful Benchmarker" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Powerful Benchmarker
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/KevinMusgrave/powerful-benchmarker/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    KevinMusgrave/powerful-benchmarker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-that-can-be-benchmarked" class="md-nav__link">
    Modules that can be benchmarked
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-default-flags" class="md-nav__link">
    Set default flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-a-basic-command" class="md-nav__link">
    Try a basic command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-folder-format" class="md-nav__link">
    Experiment folder format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-experiment-data" class="md-nav__link">
    View experiment data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    Tensorboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resume-training" class="md-nav__link">
    Resume training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-track-of-changes" class="md-nav__link">
    Keep track of changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reproduce-an-experiment" class="md-nav__link">
    Reproduce an experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluating-on-specific-splits" class="md-nav__link">
    Evaluating on specific splits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-validation-split-schemes" class="md-nav__link">
    Cross validation split schemes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="cl_syntax/" title="Command Line Syntax" class="md-nav__link">
      Command Line Syntax
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="yaml_syntax/" title="Yaml Syntax" class="md-nav__link">
      Yaml Syntax
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="hyperparams/" title="Hyperparameter Optimization" class="md-nav__link">
      Hyperparameter Optimization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="custom/" title="Adding Custom Modules" class="md-nav__link">
      Adding Custom Modules
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Default Config File Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Default Config File Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_dataset/" title="config_dataset" class="md-nav__link">
      config_dataset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_eval/" title="config_eval" class="md-nav__link">
      config_eval
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_factories/" title="config_factories" class="md-nav__link">
      config_factories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_general/" title="config_general" class="md-nav__link">
      config_general
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_loss_and_miners/" title="config_loss_and_miners" class="md-nav__link">
      config_loss_and_miners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_models/" title="config_models" class="md-nav__link">
      config_models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_optimizers/" title="config_optimizers" class="md-nav__link">
      config_optimizers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_transforms/" title="config_transforms" class="md-nav__link">
      config_transforms
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Code Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Code Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="code/aggregators/" title="Aggregators" class="md-nav__link">
      Aggregators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/api_parsers/" title="API Parsers" class="md-nav__link">
      API Parsers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/architectures/" title="Architectures" class="md-nav__link">
      Architectures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/datasets/" title="Datasets" class="md-nav__link">
      Datasets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/ensembles/" title="Ensembles" class="md-nav__link">
      Ensembles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/factories/" title="Factories" class="md-nav__link">
      Factories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/runners/" title="Runners" class="md-nav__link">
      Runners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/split_managers/" title="Split Managers" class="md-nav__link">
      Split Managers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/utils/" title="Utils" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Papers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Papers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="papers/mlrc/" title="A Metric Learning Reality Check" class="md-nav__link">
      A Metric Learning Reality Check
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-that-can-be-benchmarked" class="md-nav__link">
    Modules that can be benchmarked
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-default-flags" class="md-nav__link">
    Set default flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-a-basic-command" class="md-nav__link">
    Try a basic command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-folder-format" class="md-nav__link">
    Experiment folder format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-experiment-data" class="md-nav__link">
    View experiment data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    Tensorboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resume-training" class="md-nav__link">
    Resume training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-track-of-changes" class="md-nav__link">
    Keep track of changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reproduce-an-experiment" class="md-nav__link">
    Reproduce an experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluating-on-specific-splits" class="md-nav__link">
    Evaluating on specific splits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-validation-split-schemes" class="md-nav__link">
    Cross validation split schemes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/KevinMusgrave/powerful-benchmarker/edit/master/docs/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="powerful-benchmarker">Powerful Benchmarker<a class="headerlink" href="#powerful-benchmarker" title="Permanent link">&para;</a></h1>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="err">pip install powerful-benchmarker</span>
</pre></div>


<h2 id="modules-that-can-be-benchmarked">Modules that can be benchmarked<a class="headerlink" href="#modules-that-can-be-benchmarked" title="Permanent link">&para;</a></h2>
<p>By default, you can access the following modules via the command line and the yaml config files:</p>
<ul>
<li><a href="https://github.com/KevinMusgrave/pytorch-metric-learning">pytorch-metric-learning</a></li>
<li><a href="https://pytorch.org/docs/stable/nn.html">torch.nn</a></li>
<li><a href="https://pytorch.org/docs/stable/optim.html">torch.optim</a></li>
<li><a href="https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate">torch.optim.lr_scheduler</a></li>
<li><a href="https://pytorch.org/docs/stable/data.html">torch.utils.data</a></li>
<li><a href="https://pytorch.org/docs/stable/torchvision/transforms.html">torchvision.transforms.transforms</a></li>
<li><a href="https://pytorch.org/docs/stable/torchvision/datasets.html">torchvision.datasets</a></li>
<li><a href="https://pytorch.org/docs/stable/torchvision/models.html">torchvision.models</a></li>
<li><a href="https://github.com/Cadene/pretrained-models.pytorch">pretrainedmodels</a></li>
</ul>
<p>You can add other classes and modules by using the <a href="custom/">register functionality</a>.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="set-default-flags">Set default flags<a class="headerlink" href="#set-default-flags" title="Permanent link">&para;</a></h3>
<p>The easiest way to get started is to download the <a href="https://github.com/KevinMusgrave/powerful-benchmarker/blob/master/examples/run.py">example script</a>. Then change the default values for the following flags:</p>
<ul>
<li><code>pytorch_home</code> is where you want to save downloaded pretrained models.</li>
<li><code>dataset_root</code> is where your datasets will be downloaded, or where they are already located.</li>
<li><code>root_experiment_folder</code> is where you want all experiment data to be saved.</li>
</ul>
<h3 id="try-a-basic-command">Try a basic command<a class="headerlink" href="#try-a-basic-command" title="Permanent link">&para;</a></h3>
<p>The following command will run an experiment using the <a href="https://github.com/KevinMusgrave/powerful-benchmarker/tree/master/src/powerful_benchmarker/configs">default config files</a>, as well as download the CUB200 dataset into your <code>dataset_root</code></p>
<div class="codehilite"><pre><span></span><span class="err">python run.py --experiment_name test1 --dataset {CUB200: {download: True}}</span>
</pre></div>


<p>If the code runs properly, you'll see training and testing progress like this:
<img alt="tensorboard_example" src="imgs/code_is_running.png" /></p>
<h3 id="experiment-folder-format">Experiment folder format<a class="headerlink" href="#experiment-folder-format" title="Permanent link">&para;</a></h3>
<p>Experiment data is saved in the following format:</p>
<div class="codehilite"><pre><span></span><span class="err">&lt;root_experiment_folder&gt;</span>
<span class="err">|-&lt;experiment_name&gt;</span>
<span class="err">  |-configs</span>
<span class="err">  |-&lt;split scheme name&gt;</span>
<span class="err">    |-saved_models</span>
<span class="err">    |-saved_csvs</span>
<span class="err">    |-tensorboard_logs</span>
<span class="err">  |-meta_logs</span>
<span class="err">    |-saved_csvs</span>
<span class="err">    |-tensorboard_logs</span>
</pre></div>


<p>Here's what's in each subfolder:</p>
<ul>
<li><code>configs</code> contains the yaml config files necessary to reproduce the experiment.</li>
<li><code>&lt;split scheme name&gt;/save_models</code> contains saved pytorch models for a particular split scheme. (A split scheme simply refers to the way train/val/test splits are formed.)</li>
<li><code>&lt;split scheme name&gt;/saved_csvs</code> contains CSV files with data collected during training. It also contains an SQLite database file with the same data.</li>
<li><code>&lt;split scheme name&gt;/tensorboard_logs</code> contains the same information in <code>&lt;split scheme name&gt;/saved_csvs</code>, but in tensorboard format.</li>
<li><code>meta_logs/saved_csvs</code> contains CSV files for aggregate and ensemble accuracies. It also contains an SQLite database file with the same data.</li>
<li><code>meta_logs/tensorboard</code> contains the same information in <code>meta_logs/save_csvs</code>, but in tensorboard format.</li>
</ul>
<h3 id="view-experiment-data">View experiment data<a class="headerlink" href="#view-experiment-data" title="Permanent link">&para;</a></h3>
<p>There are multiple ways to view experiment data:</p>
<h4 id="tensorboard">Tensorboard<a class="headerlink" href="#tensorboard" title="Permanent link">&para;</a></h4>
<p>Go to the <code>&lt;experiment_name&gt;</code> folder, and run tensorboard at the command line: </p>
<div class="codehilite"><pre><span></span>tensorboard --logdir<span class="o">=</span>. --port<span class="o">=</span><span class="m">12345</span>
</pre></div>


<p>Then in your web browser, go to <code>localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is specified in the tensorboard command. You'll see plots like this:
<img alt="tensorboard_example" src="imgs/tensorboard_example.png" /></p>
<h4 id="csv">CSV<a class="headerlink" href="#csv" title="Permanent link">&para;</a></h4>
<p>Use any text editor or spreadsheet program to view the csv files that are saved in the <code>saved_csvs</code> folders.</p>
<h4 id="sqlite">SQLite<a class="headerlink" href="#sqlite" title="Permanent link">&para;</a></h4>
<p>Use <a href="https://sqlitebrowser.org/">DB Browser</a> to open the database files that are saved in the <code>saved_csvs</code> folders.</p>
<h3 id="resume-training">Resume training<a class="headerlink" href="#resume-training" title="Permanent link">&para;</a></h3>
<p>You can interrupt the program and resume training at a later time:</p>
<div class="codehilite"><pre><span></span>python run.py --experiment_name test1 --resume_training latest
</pre></div>


<p>You can also resume using the model with the best validation accuracy:</p>
<div class="codehilite"><pre><span></span>python run.py --experiment_name test1 --resume_training best
</pre></div>


<h3 id="keep-track-of-changes">Keep track of changes<a class="headerlink" href="#keep-track-of-changes" title="Permanent link">&para;</a></h3>
<p>Let's say you finished training for 100 epochs, and decide you want to train for another 50 epochs, for a total of 150. You would run:</p>
<div class="codehilite"><pre><span></span>python run.py --experiment_name test1 --resume_training latest <span class="se">\</span>
--num_epochs_train <span class="m">150</span> --merge_argparse_when_resuming
</pre></div>


<p>(The <code>merge_argparse_when_resuming</code> flag tells the code that you want to make changes to the original experiment configuration. If you don't use this flag, then the code will ignore your command line arguments, and use the original configuration. The purpose of this is to avoid accidentally changing configs in the middle of an experiment.)</p>
<p>Now in your experiments folder you'll see the original config files, and a new folder starting with <code>resume_training</code>.</p>
<div class="codehilite"><pre><span></span><span class="err">&lt;root_experiment_folder&gt;</span>
<span class="err">|-&lt;experiment_name&gt;</span>
<span class="err">  |-configs</span>
<span class="err">    |-resume_training_config_diffs_&lt;underscore delimited numbers&gt;</span>
<span class="err">  ...</span>
</pre></div>


<p>This folder contains all differences between the originally saved config files and the parameters that you've specified at the command line. In this particular case, there should just be a single file <code>config_general.yaml</code> with a single line: <code>num_epochs_train: 150</code>. </p>
<p>The underscore delimited numbers in the folder name indicate which models were loaded for each <a href="#creating-splits-for-cross-validation">split scheme</a>. For example, let's say you are doing cross validation with 3 folds. The training process has finished 50, 30, and 0 epochs of folds 0, 1, and 2, respectively. You decide to stop training, and resume training with a different batch size. Now the config diff folder will be named <code>resume_training_config_diffs_50_30_0</code>.</p>
<h3 id="reproduce-an-experiment">Reproduce an experiment<a class="headerlink" href="#reproduce-an-experiment" title="Permanent link">&para;</a></h3>
<p>To reproduce an experiment, use the <code>--reproduce_results</code> flag. For example, here's how to reproduce the experiments in the <a href="https://docs.google.com/spreadsheets/d/1brUBishNxmld-KLDAJewIc43A4EVZk3gY6yKe8OIKbY/edit?usp=sharing">benchmark spreadsheets</a>:</p>
<ol>
<li>In the spreadsheet, find the experiment you want to reproduce, click on its google drive link under the "config files" column, and download the folder.</li>
<li>Run:</li>
</ol>
<div class="codehilite"><pre><span></span>python run.py --reproduce_results &lt;the_downloaded_folder&gt; <span class="se">\</span>
--experiment_name &lt;experiment_name&gt;
</pre></div>


<h3 id="evaluating-on-specific-splits">Evaluating on specific splits<a class="headerlink" href="#evaluating-on-specific-splits" title="Permanent link">&para;</a></h3>
<p>By default, your model will be saved and evaluated on the validation set every <code>save_interval</code> epochs. To get accuracy for specific splits, use the <code>--splits_to_eval</code> flag and pass in a python-style list of split names: <code>--splits_to_eval [train, test]</code>. </p>
<p>To run evaluation only, use the <code>--evaluate</code> or <code>--evaluate_ensemble</code> flag.</p>
<h3 id="cross-validation-split-schemes">Cross validation split schemes<a class="headerlink" href="#cross-validation-split-schemes" title="Permanent link">&para;</a></h3>
<p>In this library, splits are not hard-coded into the dataset classes. Instead, train/val/test splits are created by a <code>SplitManager</code>, as specified in the <code>config_dataset</code> file:</p>
<div class="codehilite"><pre><span></span><span class="nt">split_manager</span><span class="p">:</span>
  <span class="nt">ClassDisjointSplitManager</span><span class="p">:</span>
    <span class="nt">test_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
    <span class="nt">test_start_idx</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
    <span class="nt">num_training_partitions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="nt">num_training_sets</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>


<p>This particular configuration will set aside the second 50% of classes for the test set. Then the first 50% of classes will be used for 4-fold cross validation, in which the train and val splits are always class-disjoint.</p>
<h2 id="advanced-usage">Advanced usage<a class="headerlink" href="#advanced-usage" title="Permanent link">&para;</a></h2>
<p>Here are some other important features of this library:</p>
<ul>
<li>The powerful <a href="cl_syntax/">command line syntax</a> that allows you to easily override, modify, merge, and delete config options at the command line, and within yaml files.</li>
<li>Easy and flexible <a href="hyperparams/">hyperparameter optimization</a></li>
<li>The ability to <a href="custom/">add custom modules</a>, without having to delve into the benchmarking code.</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="cl_syntax/" title="Command Line Syntax" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Command Line Syntax
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.1.dev0",url:{base:"."}})</script>
      
    
  </body>
</html>