


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.0">
    
    
      
        <title>Powerful Benchmarker</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.b5d04df8.min.css">
      
        <link rel="stylesheet" href="assets/stylesheets/palette.9ab2c1f8.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#powerful-benchmarker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="Powerful Benchmarker" class="md-header-nav__button md-logo" aria-label="Powerful Benchmarker">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Powerful Benchmarker
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Home
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/KevinMusgrave/powerful-benchmarker/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    KevinMusgrave/powerful-benchmarker
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Powerful Benchmarker" class="md-nav__button md-logo" aria-label="Powerful Benchmarker">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Powerful Benchmarker
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/KevinMusgrave/powerful-benchmarker/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    KevinMusgrave/powerful-benchmarker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#google-colab-examples" class="md-nav__link">
    Google Colab Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-that-can-be-benchmarked" class="md-nav__link">
    Modules that can be benchmarked
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-default-flags" class="md-nav__link">
    Set default flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-a-basic-command" class="md-nav__link">
    Try a basic command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-folder-format" class="md-nav__link">
    Experiment folder format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-experiment-data" class="md-nav__link">
    View experiment data
  </a>
  
    <nav class="md-nav" aria-label="View experiment data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    Tensorboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resume-training" class="md-nav__link">
    Resume training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-track-of-changes" class="md-nav__link">
    Keep track of changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reproduce-an-experiment" class="md-nav__link">
    Reproduce an experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluating-on-specific-splits" class="md-nav__link">
    Evaluating on specific splits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-validation-split-schemes" class="md-nav__link">
    Cross validation split schemes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="cl_syntax/" title="Command Line Syntax" class="md-nav__link">
      Command Line Syntax
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="yaml_syntax/" title="Yaml Syntax" class="md-nav__link">
      Yaml Syntax
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="hyperparams/" title="Hyperparameter Optimization" class="md-nav__link">
      Hyperparameter Optimization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="modules/" title="Modules You Can Access" class="md-nav__link">
      Modules You Can Access
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="custom/" title="Adding Custom Modules" class="md-nav__link">
      Adding Custom Modules
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Default Config File Guide
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Default Config File Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Default Config File Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_dataset/" title="config_dataset" class="md-nav__link">
      config_dataset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_eval/" title="config_eval" class="md-nav__link">
      config_eval
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_factories/" title="config_factories" class="md-nav__link">
      config_factories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_general/" title="config_general" class="md-nav__link">
      config_general
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_loss_and_miners/" title="config_loss_and_miners" class="md-nav__link">
      config_loss_and_miners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_models/" title="config_models" class="md-nav__link">
      config_models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_optimizers/" title="config_optimizers" class="md-nav__link">
      config_optimizers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="configs/config_transforms/" title="config_transforms" class="md-nav__link">
      config_transforms
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Code Documentation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Code Documentation" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Code Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="code/aggregators/" title="Aggregators" class="md-nav__link">
      Aggregators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/api_parsers/" title="API Parsers" class="md-nav__link">
      API Parsers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/architectures/" title="Architectures" class="md-nav__link">
      Architectures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/datasets/" title="Datasets" class="md-nav__link">
      Datasets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/ensembles/" title="Ensembles" class="md-nav__link">
      Ensembles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/factories/" title="Factories" class="md-nav__link">
      Factories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/runners/" title="Runners" class="md-nav__link">
      Runners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/split_managers/" title="Split Managers" class="md-nav__link">
      Split Managers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="code/utils/" title="Utils" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Papers
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Papers" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Papers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="papers/mlrc/" title="A Metric Learning Reality Check" class="md-nav__link">
      A Metric Learning Reality Check
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#google-colab-examples" class="md-nav__link">
    Google Colab Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-that-can-be-benchmarked" class="md-nav__link">
    Modules that can be benchmarked
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-default-flags" class="md-nav__link">
    Set default flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-a-basic-command" class="md-nav__link">
    Try a basic command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-folder-format" class="md-nav__link">
    Experiment folder format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-experiment-data" class="md-nav__link">
    View experiment data
  </a>
  
    <nav class="md-nav" aria-label="View experiment data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    Tensorboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    SQLite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resume-training" class="md-nav__link">
    Resume training
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-track-of-changes" class="md-nav__link">
    Keep track of changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reproduce-an-experiment" class="md-nav__link">
    Reproduce an experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluating-on-specific-splits" class="md-nav__link">
    Evaluating on specific splits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-validation-split-schemes" class="md-nav__link">
    Cross validation split schemes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/KevinMusgrave/powerful-benchmarker/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="powerful-benchmarker">Powerful Benchmarker<a class="headerlink" href="#powerful-benchmarker" title="Permanent link">&para;</a></h1>
<h2 id="google-colab-examples">Google Colab Examples<a class="headerlink" href="#google-colab-examples" title="Permanent link">&para;</a></h2>
<p>See the <a href="https://github.com/KevinMusgrave/powerful-benchmarker/tree/master/examples">examples folder</a> for notebooks that give an overview of how to use this library.</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>pip install powerful-benchmarker
</code></pre></div>


<h2 id="modules-that-can-be-benchmarked">Modules that can be benchmarked<a class="headerlink" href="#modules-that-can-be-benchmarked" title="Permanent link">&para;</a></h2>
<p>See <a href="modules/">the list of default modules</a>.
You can add other classes and modules by using the <a href="custom/">register functionality</a>.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="set-default-flags">Set default flags<a class="headerlink" href="#set-default-flags" title="Permanent link">&para;</a></h3>
<p>The easiest way to get started is to download the <a href="https://github.com/KevinMusgrave/powerful-benchmarker/blob/master/examples/run.py">example script</a>. Then change the default values for the following flags (each one should be an absolute file path, not a relative path):</p>
<ul>
<li><code>pytorch_home</code> is where you want to save downloaded pretrained models.</li>
<li><code>dataset_root</code> is where your datasets will be downloaded, or where they are already located.</li>
<li><code>root_experiment_folder</code> is where you want all experiment data to be saved.</li>
</ul>
<h3 id="try-a-basic-command">Try a basic command<a class="headerlink" href="#try-a-basic-command" title="Permanent link">&para;</a></h3>
<p>The following command will run an experiment using the <a href="https://github.com/KevinMusgrave/powerful-benchmarker/tree/master/src/powerful_benchmarker/configs">default config files</a>, as well as download the CUB200 dataset into your <code>dataset_root</code></p>
<div class="codehilite"><pre><span></span><code>python run.py --experiment_name test1 --dataset <span class="o">{</span>CUB200: <span class="o">{</span>download: True<span class="o">}}</span>
</code></pre></div>


<p>If the code runs properly, you'll see training and testing progress like this:
<img alt="tensorboard_example" src="imgs/code_is_running.png" /></p>
<h3 id="experiment-folder-format">Experiment folder format<a class="headerlink" href="#experiment-folder-format" title="Permanent link">&para;</a></h3>
<p>Experiment data is saved in the following format:</p>
<div class="codehilite"><pre><span></span><code><span class="err">&lt;root_experiment_folder&gt;</span>
<span class="err">|-&lt;experiment_name&gt;</span>
<span class="err">  |-configs</span>
<span class="err">  |-&lt;split scheme name&gt;</span>
<span class="err">    |-saved_models</span>
<span class="err">    |-saved_csvs</span>
<span class="err">    |-tensorboard_logs</span>
<span class="err">  |-meta_logs</span>
<span class="err">    |-saved_csvs</span>
<span class="err">    |-tensorboard_logs</span>
</code></pre></div>


<p>Here's what's in each subfolder:</p>
<ul>
<li><code>configs</code> contains the yaml config files necessary to reproduce the experiment.</li>
<li><code>&lt;split scheme name&gt;/save_models</code> contains saved pytorch models for a particular split scheme. (A split scheme simply refers to the way train/val/test splits are formed.)</li>
<li><code>&lt;split scheme name&gt;/saved_csvs</code> contains CSV files with data collected during training. It also contains an SQLite database file with the same data.</li>
<li><code>&lt;split scheme name&gt;/tensorboard_logs</code> contains the same information in <code>&lt;split scheme name&gt;/saved_csvs</code>, but in tensorboard format.</li>
<li><code>meta_logs/saved_csvs</code> contains CSV files for aggregate and ensemble accuracies. It also contains an SQLite database file with the same data.</li>
<li><code>meta_logs/tensorboard</code> contains the same information in <code>meta_logs/save_csvs</code>, but in tensorboard format.</li>
</ul>
<h3 id="view-experiment-data">View experiment data<a class="headerlink" href="#view-experiment-data" title="Permanent link">&para;</a></h3>
<p>There are multiple ways to view experiment data:</p>
<h4 id="tensorboard">Tensorboard<a class="headerlink" href="#tensorboard" title="Permanent link">&para;</a></h4>
<p>Go to the <code>&lt;experiment_name&gt;</code> folder, and run tensorboard at the command line: </p>
<div class="codehilite"><pre><span></span><code>tensorboard --logdir<span class="o">=</span>. --port<span class="o">=</span><span class="m">12345</span>
</code></pre></div>


<p>Then in your web browser, go to <code>localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is specified in the tensorboard command. You'll see plots like this:
<img alt="tensorboard_example" src="imgs/tensorboard_example.png" /></p>
<h4 id="csv">CSV<a class="headerlink" href="#csv" title="Permanent link">&para;</a></h4>
<p>Use any text editor or spreadsheet program to view the csv files that are saved in the <code>saved_csvs</code> folders.</p>
<h4 id="sqlite">SQLite<a class="headerlink" href="#sqlite" title="Permanent link">&para;</a></h4>
<p>Use <a href="https://sqlitebrowser.org/">DB Browser</a> to open the database files that are saved in the <code>saved_csvs</code> folders.</p>
<h3 id="resume-training">Resume training<a class="headerlink" href="#resume-training" title="Permanent link">&para;</a></h3>
<p>You can interrupt the program and resume training at a later time:</p>
<div class="codehilite"><pre><span></span><code>python run.py --experiment_name test1 --resume_training latest
</code></pre></div>


<p>You can also resume using the model with the best validation accuracy:</p>
<div class="codehilite"><pre><span></span><code>python run.py --experiment_name test1 --resume_training best
</code></pre></div>


<h3 id="keep-track-of-changes">Keep track of changes<a class="headerlink" href="#keep-track-of-changes" title="Permanent link">&para;</a></h3>
<p>Let's say you finished training for 100 epochs, and decide you want to train for another 50 epochs, for a total of 150. You would run:</p>
<div class="codehilite"><pre><span></span><code>python run.py --experiment_name test1 --resume_training latest <span class="se">\</span>
--num_epochs_train <span class="m">150</span> --merge_argparse_when_resuming
</code></pre></div>


<p>(The <code>merge_argparse_when_resuming</code> flag tells the code that you want to make changes to the original experiment configuration. If you don't use this flag, then the code will ignore your command line arguments, and use the original configuration. The purpose of this is to avoid accidentally changing configs in the middle of an experiment.)</p>
<p>Now in your experiments folder you'll see the original config files, and a new folder starting with <code>resume_training</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="err">&lt;root_experiment_folder&gt;</span>
<span class="err">|-&lt;experiment_name&gt;</span>
<span class="err">  |-configs</span>
<span class="err">    |-resume_training_config_diffs_&lt;underscore delimited numbers&gt;</span>
<span class="err">  ...</span>
</code></pre></div>


<p>This folder contains all differences between the originally saved config files and the parameters that you've specified at the command line. In this particular case, there should just be a single file <code>config_general.yaml</code> with a single line: <code>num_epochs_train: 150</code>. </p>
<p>The underscore delimited numbers in the folder name indicate which models were loaded for each <a href="#creating-splits-for-cross-validation">split scheme</a>. For example, let's say you are doing cross validation with 3 folds. The training process has finished 50, 30, and 0 epochs of folds 0, 1, and 2, respectively. You decide to stop training, and resume training with a different batch size. Now the config diff folder will be named <code>resume_training_config_diffs_50_30_0</code>.</p>
<h3 id="reproduce-an-experiment">Reproduce an experiment<a class="headerlink" href="#reproduce-an-experiment" title="Permanent link">&para;</a></h3>
<p>To reproduce an experiment, use the <code>--reproduce_results</code> flag, and pass in the path to the experiment folder you want to reproduce:</p>
<div class="codehilite"><pre><span></span><code>python run.py --reproduce_results &lt;experiment_to_reproduce&gt; <span class="se">\</span>
--experiment_name &lt;your_experiment_name&gt;
</code></pre></div>


<p>This will run an experiment based on the config files in <code>experiment_to_reproduce</code>. You can make modifications to the configuration at the command line, as long as you provide the <code>--merge_argparse_when_resuming</code> flag, so that the code knows you intend on making changes:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># reproduce the experiment but use a different number of dataloaders</span>
python run.py --reproduce_results &lt;experiment_to_reproduce&gt; <span class="se">\</span>
--experiment_name &lt;your_experiment_name&gt; <span class="se">\</span>
--trainer~APPLY~2: <span class="o">{</span>dataloader_num_workers: <span class="m">16</span><span class="o">}</span> <span class="se">\</span>
--tester~APPLY~2: <span class="o">{</span>dataloader_num_workers: <span class="m">16</span><span class="o">}</span> <span class="se">\</span>
--merge_argparse_when_resuming
</code></pre></div>


<p>For a guide on how to reproduce the results of <a href="https://arxiv.org/abs/2003.08505">A Metric Learning Reality Check</a>, see the <a href="../papers/mlrc">supplementary material</a></p>
<h3 id="evaluating-on-specific-splits">Evaluating on specific splits<a class="headerlink" href="#evaluating-on-specific-splits" title="Permanent link">&para;</a></h3>
<p>By default, your model will be saved and evaluated on the validation set every <code>save_interval</code> epochs. To get accuracy for specific splits, use the <code>--splits_to_eval</code> flag and pass in a python-style list of split names: <code>--splits_to_eval [train, test]</code>. </p>
<p>To run evaluation only, use the <code>--evaluate</code> or <code>--evaluate_ensemble</code> flag.</p>
<h3 id="cross-validation-split-schemes">Cross validation split schemes<a class="headerlink" href="#cross-validation-split-schemes" title="Permanent link">&para;</a></h3>
<p>In this library, splits are not hard-coded into the dataset classes. Instead, train/val/test splits are created by a <code>SplitManager</code>, as specified in the <code>config_dataset</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">split_manager</span><span class="p">:</span>
  <span class="nt">ClassDisjointSplitManager</span><span class="p">:</span>
    <span class="nt">test_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
    <span class="nt">test_start_idx</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
    <span class="nt">num_training_partitions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="nt">num_training_sets</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</code></pre></div>


<p>This particular configuration will set aside the second 50% of classes for the test set. Then the first 50% of classes will be used for 4-fold cross validation, in which the train and val splits are always class-disjoint.</p>
<h2 id="advanced-usage">Advanced usage<a class="headerlink" href="#advanced-usage" title="Permanent link">&para;</a></h2>
<p>Here are some other important features of this library:</p>
<ul>
<li>The powerful <a href="cl_syntax/">command line syntax</a> that allows you to easily override, modify, merge, and delete config options at the command line, and within yaml files.</li>
<li>Easy and flexible <a href="hyperparams/">hyperparameter optimization</a></li>
<li>The ability to <a href="custom/">add custom modules</a>, without having to delve into the benchmarking code.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
        
          <a href="cl_syntax/" title="Command Line Syntax" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Command Line Syntax
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.92ffa368.min.js"></script>
      <script src="assets/javascripts/bundle.5123e3d4.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>